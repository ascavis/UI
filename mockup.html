<html>
	<head>
		<title>Ascavis</title>
		<link href="css/style.css" rel="stylesheet">
		<meta charset="UTF-8">
	    <link rel="stylesheet" href="css/ui-darkness/jquery-ui-1.10.4.custom.css">
		<script type="text/javascript" src="js/libs/jquery-2.1.0.js"></script>
		<script type="text/javascript" src="js/libs/jquery-migrate-1.2.1.js"></script>
		<script type="text/javascript" src="js/libs/jquery.timer.js"></script>
		<script type="text/javascript" src="js/libs/three.min.js"></script>
		<script type="text/javascript" src="js/libs/OrbitControls.js"></script>
		<script type="text/javascript" src="js/libs/Projector.js"></script>
		<script type="text/javascript" src="js/libs/tween.min.js"></script>
		<script type="text/javascript" src="js/libs/jquery-ui-1.10.4.custom.js"></script>
		<script type="text/javascript" src="js/model.js"></script>
		<script type="text/javascript" src="js/data.js"></script>
		<script type="text/javascript" src="js/planets.js"></script>
		<script type="text/javascript" src="js/render.js"></script>
		<script type="text/javascript" src="js/filter.js"></script>
		<script type="text/javascript" src="js/calculations.js"></script>
		<link href='http://fonts.googleapis.com/css?family=Ubuntu:300,400,700,700italic' rel='stylesheet' type='text/css'>
	</head>
	<body>
		<script>
		 $(document).ready(function(){			
			$("#moreAsteroids").click(function() {
				$("#infoscreen").css('visibility','visible');
			});
			
//			$("main").click(function(e) {
//			  $("#popover").css('left',e.pageX - $("#popover").width() / 2 );
//			  $("#popover").css('top',e.pageY - $("#popover").height());
//			});
			
//			$("#mainBelt").click(function(e) {
//			  var mainHtml = "<img id=\"solarsystem\" src=\"img/solar system_asteroids_markiert72.png\" usemap=\"#Map\" />";
//			  
//			  $("#main").html(mainHtml);
//			});
			
			$("#ast1").click(function(){
			   displayAsteroidData(1);
			});
			$("#ast2").click(function(){
			   displayAsteroidData(2);
			});
			$("#ast3").click(function(){
			   displayAsteroidData(3);
			});
			$("#ast4").click(function(){
			   displayAsteroidData(4);
			});
			$("#ast5").click(function(){
			   displayAsteroidData(5);
			});
			$("#ast6").click(function(){
			   displayAsteroidData(6);
			});
			$("#ast7").click(function(){
			   displayAsteroidData(7);
			});
			$("#ast8").click(function(){
			   displayAsteroidData(8);
			});
			$("#ast9").click(function(){
			   displayAsteroidData(9);
			});
			$("#ast10").click(function(){
			   displayAsteroidData(10);
			});
			$("#ast11").click(function(){
			   displayAsteroidData(11);
			});
			$("#ast12").click(function(){
			   displayAsteroidData(12);
			});
			$("#ast13").click(function(){
			   displayAsteroidData(13);
			});
			$("#ast14").click(function(){
			   displayAsteroidData(14);
			});
			$("#ast15").click(function(){
			   displayAsteroidData(15);
			});
			$("#ast16").click(function(){
			   displayAsteroidData(16);
			});
			
			function displayAsteroidData(id){
				var jqxhr = $.getJSON( "/mpc/" + id, function() {
				  console.log( "success" );
				})
				  .done(function(data) {
				  	$("#popover").html(
				  		"<div id=\"popoverheader\">\n" +
				  			"<span id=\"popovertitle\">" + data.name + "</span>\n" +
				  			"<span id=\"popversubtitle\">Taxonomy class " + data.taxonomy_class + "</span>\n" +
				  			"<div id=\"popoverclose\"><a id=\"closelink\"><img id=\"popovercloseimage\" src=\"img/Close_Icon.png\"></a></div>\n" +
				  		"</div>\n" +
				  		"<div id=\"popovermenu\">\n" +
				  			"<div class=\"popovermenuitem first\">\n" +
				  				"<span class=\"popovermenumain\">"+ data.observations + "</span>\n" +
				  				"<span class=\"popoversubmenumain\">Observations</span>	\n" +
				  			"</div>\n" +
				  			"<div class=\"popovermenuitem\">\n" +
				  				"<span class=\"popovermenumain\">" + data.inclination +"</span>\n" +
				  				"<span class=\"popoversubmenumain\">Inclination</span>	\n" +
				  			"</div>\n" +
				  			"<div class=\"popovermenuitem\">\n" +
				  				"<span class=\"popovermenumain\">" + data.semimajor_axis + " AU</span>\n" +
				  				"<span class=\"popoversubmenumain\">Semi-major axis</span>	\n" +
				  			"</div>\n" +
				  			"<div class=\"popovermenuitem last\">\n" +
				  				"<span class=\"popovermenumain\">" + data.albedo +" </span>\n" +
				  				"<span class=\"popoversubmenumain\">Albedo</span>\n" +
				  			"</div>\n" +
				  			"<div class=\"popovermenuitem last\">\n" +
				  					"<span class=\"popovermenumain\">" + data.period +" years</span>\n" +
				  					"<span class=\"popoversubmenumain\">Period</span>\n" +
				  				"</div>\n" +
				  		"</div>\n" +
				  		"<div id=\"popoverfooter\">\n" +
				  			"<span>Available Images &raquo;</span>\n" +
				  		"</div>"
				  	);
				  	$("#popover").css('visibility','visibile');
				  	$("#closelink").click(function() {
				  		$("#popover").css('visibility','hidden');
				  	});
				  })
				  .fail(function() {
				    console.log( "error" );
				  })
				  .always(function() {
				    console.log( "complete" );
				  });
				  
				jqxhr.complete(function() {
				  console.log( "second complete" );
				});
			}
		});
		</script>
		
		<map name="Map" id="Map">
		    <area id="ast1" class="asteroid" shape="poly" coords="418,270,423,264,429,271,422,278" />
		    <area id="ast2" class="asteroid" shape="poly" coords="443,300,448,310,456,305,453,298" />
		    <area id="ast3" class="asteroid" shape="poly" coords="411,377,417,386,427,379,417,376" />
		    <area id="ast4" class="asteroid" shape="poly" coords="490,410,495,414,501,408,495,404" />
		    <area id="ast5" class="asteroid" shape="poly" coords="528,387,535,396,541,388" />
		    <area id="ast6" class="asteroid" shape="poly" coords="568,404,571,409,579,403,571,398" />
		    <area id="ast7" class="asteroid" shape="poly" coords="607,361,615,368,621,362,615,358" />
		    <area id="ast8" class="asteroid"  shape="poly" coords="657,418,663,421,669,415,660,410" />
		    <area id="ast9" class="asteroid"  shape="poly" coords="656,323,661,333,666,330,664,322" />
		    <area id="ast10" class="asteroid"  shape="poly" coords="679,311,686,319,693,316,686,307" />
		    <area id="ast11" class="asteroid"  shape="poly" coords="668,239,669,245,680,241,667,233" />
		    <area id="ast12" class="asteroid"  shape="poly" coords="667,207,676,211,685,206,673,201" />
		    <area id="ast13" class="asteroid" shape="poly" coords="622,204,627,213,637,206,628,198" />
		    <area id="ast14" class="asteroid"  shape="poly" coords="566,170,567,180,581,173,574,166" />
		    <area id="ast15" class="asteroid"  shape="poly" coords="479,178,481,181,490,180,485,172" />
		    <area id="ast16" class="asteroid"  shape="poly" coords="471,203,475,210,485,202,478,199" />
		</map>
		
		<div id="main">
			<img id="solarsystem" src="img/solar system_asteroids_markiert72.png" usemap="#Map" />
		</div>
		
		<div id="sidebar">
			<div id="logo">
				<img src="img/ascavis.png" />
			</div>
			<div id="sidemenu">
				<span class="menutitle">Orbit</span>
				<ul>
					<li class="selected"><span><a href id="mainBelt">Main Belt</a></span></li>
					<li><span>Other</span></li>
				</ul>
				<span class="menutitle">Material</span>
				<ul class="selected">
					<li><span><a>Iron</a></span></li>
					<li><span>Rock</span></li>
				</ul>
			</div>
			<div id="sidefooter">
				<span class="sidefooter"><a id="moreAsteroids">More about Asteroids</a></span>
				<span class="sidefooter">About ASCAVIS</span>
			</div>
		</div>
		
		<div id="popover">

		</div>
		
		<div id="infoscreen">
			<div id="infoscreenheader">
				<span id="title">Want to learn more about asteroids?</span>
			</div>
			<div id="infoscreenmain">
				<div id="infoscreencol1">
					<div class="infoimg">
						<img src="/img/infothumbnail1.png" />
					</div>
					<div class="infosubtitle">
						<span>Infographic about Asteroids by Kim Orr</span>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>